{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/lib/collections/notifications.js","filenameRelative":"/lib/collections/notifications.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/lib/collections/notifications.js.map","sourceFileName":"/lib/collections/notifications.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"notifications"},"ignored":false,"code":"Notifications = new Mongo.Collection('notifications');\n\nNotifications.allow({\n  update: function () {\n    function update(userId, doc, fieldNames) {\n      //console.log(userId);\n      console.log(doc);\n      //console.log(fieldNames);\n      return Twiits.findOne({ _id: doc.twiitId, read: false });\n    }\n\n    return update;\n  }()\n});\n\ncreateTwiitNotification = function createTwiitNotification(twiitNotifId) {\n  var twiit = Twitts.findOne(twiitNotifId);\n\n  Notifications.insert({\n    twiitMessage: twiit.message,\n    twiitId: twiit._id,\n    twiitNotifUserName: twiit.user,\n    twiitTimeStamp: twiit.timestamp,\n    read: false\n  });\n};","ast":null,"map":{"version":3,"sources":["/lib/collections/notifications.js"],"names":[],"mappings":"AAAA,gBAAgB,IAAI,MAAM,UAAV,CAAqB,eAArB,CAAhB;;AAEA,cAAc,KAAd,CAAoB;AAClB;AAAQ,oBAAS,MAAT,EAAiB,GAAjB,EAAsB,UAAtB,EAAkC;;AAExC,cAAQ,GAAR,CAAY,GAAZ;;AAEA,aAAO,OAAO,OAAP,CAAe,EAAC,KAAK,IAAI,OAAV,EAAmB,MAAM,KAAzB,EAAf,CAAP;AACD;;AALD;AAAA;AADkB,CAApB;;AASA,0BAA0B,iCAAS,YAAT,EAAuB;AAC/C,MAAI,QAAQ,OAAO,OAAP,CAAe,YAAf,CAAZ;;AAEA,gBAAc,MAAd,CAAqB;AACnB,kBAAc,MAAM,OADD;AAEnB,aAAS,MAAM,GAFI;AAGnB,wBAAoB,MAAM,IAHP;AAInB,oBAAgB,MAAM,SAJH;AAKnB,UAAM;AALa,GAArB;AAOD,CAVD","file":"/lib/collections/notifications.js.map","sourcesContent":["Notifications = new Mongo.Collection('notifications');\r\n\r\nNotifications.allow({\r\n  update: function(userId, doc, fieldNames) {\r\n    //console.log(userId);\r\n    console.log(doc);\r\n    //console.log(fieldNames);\r\n    return Twiits.findOne({_id: doc.twiitId, read: false})\r\n  }\r\n});\r\n\r\ncreateTwiitNotification = function(twiitNotifId) {\r\n  var twiit = Twitts.findOne(twiitNotifId);\r\n\r\n  Notifications.insert({\r\n    twiitMessage: twiit.message,\r\n    twiitId: twiit._id,\r\n    twiitNotifUserName: twiit.user,\r\n    twiitTimeStamp: twiit.timestamp,\r\n    read: false\r\n  });\r\n};"]},"hash":"702659192b30cc301af248d65065fd3ac0a9e4c4"}
