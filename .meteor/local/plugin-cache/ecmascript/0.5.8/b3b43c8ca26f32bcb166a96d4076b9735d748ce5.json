{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/partialTemplates/notifications.js","filenameRelative":"/client/partialTemplates/notifications.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/partialTemplates/notifications.js.map","sourceFileName":"/client/partialTemplates/notifications.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"notifications"},"ignored":false,"code":"Template.notifications.onCreated(function () {\n  Meteor.subscribe('notifications', Meteor.user().username);\n});\n\nTemplate.notifications.helpers({\n  notifications: function () {\n    function notifications() {\n      followings = UserUtils.findFollowings(Meteor.user().username);\n      return Notifications.find({ twiitNotifUserName: { $nin: followings }, read: false });\n    }\n\n    return notifications;\n  }(),\n  notificationCount: function () {\n    function notificationCount() {\n      var followings = UserUtils.findFollowings(Meteor.user().username);\n      return Notifications.find({ twiitNotifUserName: { $nin: followings }, read: false }).count();\n    }\n\n    return notificationCount;\n  }()\n});\n\n/*\r\nTemplate.notificationItem.helpers({\r\n  notificationTwiitPath: function() {\r\n    var path = this.twiitId;\r\n    console.log(path);\r\n    return path;\r\n  }\r\n});\r\n*/\n\nTemplate.notificationItem.events({\n  'click a': function () {\n    function clickA() {\n      Notifications.update(this._id, { $set: { read: true } });\n    }\n\n    return clickA;\n  }()\n});","ast":null,"map":{"version":3,"sources":["/client/partialTemplates/notifications.js"],"names":[],"mappings":"AAAA,SAAS,aAAT,CAAuB,SAAvB,CAAiC,YAAW;AAC1C,SAAO,SAAP,CAAiB,eAAjB,EAAkC,OAAO,IAAP,GAAc,QAAhD;AACD,CAFD;;AAIA,SAAS,aAAT,CAAuB,OAAvB,CAA+B;AAC7B;AAAe,6BAAW;AACxB,mBAAa,UAAU,cAAV,CAAyB,OAAO,IAAP,GAAc,QAAvC,CAAb;AACA,aAAO,cAAc,IAAd,CAAmB,EAAC,oBAAoB,EAAE,MAAM,UAAR,EAArB,EAA2C,MAAM,KAAjD,EAAnB,CAAP;AACD;;AAHD;AAAA,KAD6B;AAK7B;AAAmB,iCAAU;AAC3B,UAAI,aAAa,UAAU,cAAV,CAAyB,OAAO,IAAP,GAAc,QAAvC,CAAjB;AACA,aAAO,cAAc,IAAd,CAAmB,EAAC,oBAAoB,EAAE,MAAM,UAAR,EAArB,EAA2C,MAAM,KAAjD,EAAnB,EAA4E,KAA5E,EAAP;AACD;;AAHD;AAAA;AAL6B,CAA/B;;;;;;;;;;;;AAqBA,SAAS,gBAAT,CAA0B,MAA1B,CAAiC;AAC/B;AAAW,sBAAW;AACpB,oBAAc,MAAd,CAAqB,KAAK,GAA1B,EAA+B,EAAC,MAAM,EAAC,MAAM,IAAP,EAAP,EAA/B;AACD;;AAFD;AAAA;AAD+B,CAAjC","file":"/client/partialTemplates/notifications.js.map","sourcesContent":["Template.notifications.onCreated(function() { \r\n  Meteor.subscribe('notifications', Meteor.user().username);\r\n});\r\n\r\nTemplate.notifications.helpers({\r\n  notifications: function() {\r\n    followings = UserUtils.findFollowings(Meteor.user().username);\r\n    return Notifications.find({twiitNotifUserName: { $nin: followings }, read: false});\r\n  },\r\n  notificationCount: function(){\r\n    var followings = UserUtils.findFollowings(Meteor.user().username);\r\n    return Notifications.find({twiitNotifUserName: { $nin: followings }, read: false}).count();\r\n  }\r\n});\r\n\r\n/*\r\nTemplate.notificationItem.helpers({\r\n  notificationTwiitPath: function() {\r\n    var path = this.twiitId;\r\n    console.log(path);\r\n    return path;\r\n  }\r\n});\r\n*/\r\n\r\nTemplate.notificationItem.events({\r\n  'click a': function() {\r\n    Notifications.update(this._id, {$set: {read: true}});\r\n  }\r\n});"]},"hash":"b3b43c8ca26f32bcb166a96d4076b9735d748ce5"}
