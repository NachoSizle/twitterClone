{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/lib/collections/notifications.js","filenameRelative":"/lib/collections/notifications.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/lib/collections/notifications.js.map","sourceFileName":"/lib/collections/notifications.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"notifications"},"ignored":false,"code":"Notifications = new Mongo.Collection('notifications');\n\nNotifications.allow({\n  update: function () {\n    function update(userId, doc, fieldNames) {\n      return ownsDocument(userId, doc) && fieldNames.length === 1 && fieldNames[0] === 'read';\n    }\n\n    return update;\n  }()\n});\n\ncreateTwiitNotification = function createTwiitNotification(twiitNotif) {\n  var twiit = Twitts.findOne(twiitNotif._id);\n  if (twiitNotif.user !== twiit.user) {\n    Notifications.insert({\n      userId: post.user,\n      postId: post._id,\n      twiitNotifId: twiitNotif._id,\n      twiitNotifUserName: twiitNotif.user,\n      read: false\n    });\n  }\n};","ast":null,"map":{"version":3,"sources":["/lib/collections/notifications.js"],"names":[],"mappings":"AAAA,gBAAgB,IAAI,MAAM,UAAV,CAAqB,eAArB,CAAhB;;AAEA,cAAc,KAAd,CAAoB;AAClB;AAAQ,oBAAS,MAAT,EAAiB,GAAjB,EAAsB,UAAtB,EAAkC;AACxC,aAAO,aAAa,MAAb,EAAqB,GAArB,KACL,WAAW,MAAX,KAAsB,CADjB,IACsB,WAAW,CAAX,MAAkB,MAD/C;AAED;;AAHD;AAAA;AADkB,CAApB;;AAOA,0BAA0B,iCAAS,UAAT,EAAqB;AAC7C,MAAI,QAAQ,OAAO,OAAP,CAAe,WAAW,GAA1B,CAAZ;AACA,MAAI,WAAW,IAAX,KAAoB,MAAM,IAA9B,EAAoC;AAClC,kBAAc,MAAd,CAAqB;AACnB,cAAQ,KAAK,IADM;AAEnB,cAAQ,KAAK,GAFM;AAGnB,oBAAc,WAAW,GAHN;AAInB,0BAAoB,WAAW,IAJZ;AAKnB,YAAM;AALa,KAArB;AAOD;AACF,CAXD","file":"/lib/collections/notifications.js.map","sourcesContent":["Notifications = new Mongo.Collection('notifications');\r\n\r\nNotifications.allow({\r\n  update: function(userId, doc, fieldNames) {\r\n    return ownsDocument(userId, doc) &&\r\n      fieldNames.length === 1 && fieldNames[0] === 'read';\r\n  }\r\n});\r\n\r\ncreateTwiitNotification = function(twiitNotif) {\r\n  var twiit = Twitts.findOne(twiitNotif._id);\r\n  if (twiitNotif.user !== twiit.user) {\r\n    Notifications.insert({\r\n      userId: post.user,\r\n      postId: post._id,\r\n      twiitNotifId: twiitNotif._id,\r\n      twiitNotifUserName: twiitNotif.user,\r\n      read: false\r\n    });\r\n  }\r\n};"]},"hash":"5feede6c7feab2836cf7e28a974595d35e305b1b"}
