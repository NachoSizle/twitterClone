{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/server/notifications.js","filenameRelative":"/server/notifications.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/notifications.js.map","sourceFileName":"/server/notifications.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"notifications"},"ignored":false,"code":"Notifications.allow({\n  update: function update(userId, doc) {\n    //console.log(userId);\n    console.log(\"Update\");\n    //console.log(fieldNames);\n    //Notifications.update({ _id: doc.twiitId }, { $set: {read: true }});\n  }\n});\n\nMeteor.methods({\n  'updateNotif': function updateNotif(idNotif) {\n    if (Meteor.user()) {\n      console.log(\"updateNotif\");\n      Notifications.update(idNotif, { $set: { read: true } });\n    }\n  },\n  'createTwiitNotification': function createTwiitNotification(twiitNotifId) {\n    var twiit = Twitts.findOne(twiitNotifId);\n\n    Notifications.insert({\n      twiitMessage: twiit.message,\n      twiitId: twiit._id,\n      twiitNotifUserName: twiit.user,\n      twiitTimeStamp: twiit.timestamp,\n      read: false\n    });\n  }\n});","ast":null,"map":{"version":3,"sources":["/server/notifications.js"],"names":[],"mappings":"AAAA,cAAc,KAAd,CAAoB;AAClB,UAAQ,gBAAS,MAAT,EAAiB,GAAjB,EAAsB;;AAE5B,YAAQ,GAAR,CAAY,QAAZ;;;AAGD;AANiB,CAApB;;AASA,OAAO,OAAP,CAAe;AACb,iBAAe,qBAAS,OAAT,EAAkB;AAC/B,QAAI,OAAO,IAAP,EAAJ,EAAmB;AACjB,cAAQ,GAAR,CAAY,aAAZ;AACA,oBAAc,MAAd,CAAqB,OAArB,EAA8B,EAAC,MAAM,EAAC,MAAM,IAAP,EAAP,EAA9B;AACD;AACF,GANY;AAOb,6BAA4B,iCAAS,YAAT,EAAuB;AACjD,QAAI,QAAQ,OAAO,OAAP,CAAe,YAAf,CAAZ;;AAEA,kBAAc,MAAd,CAAqB;AACnB,oBAAc,MAAM,OADD;AAEnB,eAAS,MAAM,GAFI;AAGnB,0BAAoB,MAAM,IAHP;AAInB,sBAAgB,MAAM,SAJH;AAKnB,YAAM;AALa,KAArB;AAOD;AAjBY,CAAf","file":"/server/notifications.js.map","sourcesContent":["Notifications.allow({\r\n  update: function(userId, doc) {\r\n    //console.log(userId);\r\n    console.log(\"Update\");\r\n    //console.log(fieldNames);\r\n    //Notifications.update({ _id: doc.twiitId }, { $set: {read: true }});\r\n  }\r\n});\r\n\r\nMeteor.methods({ \r\n  'updateNotif': function(idNotif) {\r\n    if (Meteor.user()) {\r\n      console.log(\"updateNotif\");\r\n      Notifications.update(idNotif, {$set: {read: true}});\r\n    }\r\n  },\r\n  'createTwiitNotification' : function(twiitNotifId) {\r\n    var twiit = Twitts.findOne(twiitNotifId);\r\n\r\n    Notifications.insert({\r\n      twiitMessage: twiit.message,\r\n      twiitId: twiit._id,\r\n      twiitNotifUserName: twiit.user,\r\n      twiitTimeStamp: twiit.timestamp,\r\n      read: false\r\n    });\r\n  }\r\n});"]},"hash":"5437d2b6b02d14995705a070102aa75b236ccd96"}
